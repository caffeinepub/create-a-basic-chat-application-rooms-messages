{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 75,
  "summary": "Build a chat application branded as TerrorChat for terrorchat.org (replacing freechat.com, tchat.org, and any other prior domains/references).",
  "architectural_notes": [
    "Branding/domain should be configurable or centralized (e.g., constants/env) to avoid hardcoded .com references; update to .org.",
    "Branding/footer text and domain should be centralized/configurable to support changing from tchat.org to terrorchat.org without scattered hardcoding.",
    "Decide and standardize the authentication approach for TerrorChat (e.g., Internet Identity vs a custom login/sign-in system) and ensure it supports persistent user accounts.",
    "Chatroom box styling (foreground/front + selected state) should be driven by theme tokens/CSS variables so colors automatically switch with the selected theme.",
    "Servers feature: add a hard limit of 100 servers (enforce consistently across UI and backend/server-creation logic).",
    "Chatrooms should not have a hard limit (infinite/unbounded), unlike servers which have an explicit max limit requirement.",
    "Define whether TerrorChat will continue using Internet Identity or move to a traditional sign-up/login account system; if keeping Internet Identity, design an in-app onboarding flow that treats first sign-in as “account creation” plus profile customization.",
    "Define server roles/permissions model (owner/admin/mod/member) and enforce it consistently in backend APIs and UI.",
    "Implement server membership moderation (kick/ban) with ban records including optional expiry time; ensure access control and auditability.",
    "Define server metadata model for customization (e.g., bio/description and other settings) and enforce role-based edit permissions consistently across backend APIs and UI."
  ],
  "known_issues": [
    "Profile feature has an unspecified issue reported by user (\"Chat app Profile issue\") that needs investigation and fix.",
    "Profile changes are not saving reliably, and the user's profile picture and display name are not consistently shown across the UI (should always display).",
    "Deployment error encountered during deploy/build process (details need investigation).",
    "App update generation/build intermittently fails (\"Sorry, we couldn't generate your application\" / \"AI was unable to fulfill your request\"); needs investigation to restore reliable build/deploy."
  ],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-add-frontend-chat-ui-with-authentication-via-internet-identity-a-room-list-create-select-room-a-message-thread-view-for-the-selected-room-and-a-message-composer-to-send-new-messages",
      "title": "Add frontend chat UI with: authentication via Internet Identity, a room list (create/select room), a message thread view for the selected room, and a message composer to send new messages.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-near-real-time-message-updates-using-react-query-polling-no-websockets-periodically-refetch-messages-for-the-currently-selected-room-and-merge-render-without-duplicates",
      "title": "Implement near-real-time message updates using React Query polling (no WebSockets): periodically refetch messages for the currently selected room and merge/render without duplicates.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-define-and-apply-a-coherent-visual-theme-for-the-app-colors-typography-spacing-component-styling-and-enforce-it-consistently-across-all-pages-and-states-loading-empty-error-avoid-blue-purple-as-primary-theme-colors",
      "title": "Define and apply a coherent visual theme for the app (colors, typography, spacing, component styling) and enforce it consistently across all pages and states (loading, empty, error). Avoid blue/purple as primary theme colors.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-add-basic-ux-states-and-validation-disable-sending-empty-messages-show-loading-indicators-for-room-message-fetches-and-show-readable-error-messages-when-backend-calls-fail",
      "title": "Add basic UX states and validation: disable sending empty messages, show loading indicators for room/message fetches, and show readable error messages when backend calls fail.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-render-generated-static-images-from-frontend-public-assets-generated-in-appropriate-ui-places-e-g-app-header-and-empty-state-without-routing-images-through-the-backend",
      "title": "Render generated static images (from frontend/public/assets/generated) in appropriate UI places (e.g., app header and empty state) without routing images through the backend.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-user-profiles-to-support-profile-customization-fields-in-addition-to-the-existing-display-name-bio-and-avatar-configuration-and-expose-these-fields-through-backend-apis-for-reading-and-updating-the-authenticated-user-s-profile",
      "title": "Extend user profiles to support profile customization fields (in addition to the existing display name): bio and avatar configuration, and expose these fields through backend APIs for reading and updating the authenticated user's profile.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-profile-editing-ui-that-allows-authenticated-users-to-view-and-update-their-profile-customization-fields-display-name-bio-avatar-configuration-from-within-the-main-app-experience",
      "title": "Add a profile editing UI that allows authenticated users to view and update their profile customization fields (display name, bio, avatar configuration) from within the main app experience.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-per-user-in-app-settings-stored-on-the-backend-including-at-minimum-a-theme-preference-light-dark-system-and-a-chat-refresh-preference-message-polling-interval-that-influences-frontend-polling-behavior",
      "title": "Add per-user in-app settings stored on the backend, including at minimum: a theme preference (light/dark/system) and a chat refresh preference (message polling interval) that influences frontend polling behavior.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-settings-ui-area-dialog-drawer-or-page-within-the-existing-single-screen-app-layout-where-authenticated-users-can-change-app-settings-theme-preference-and-message-polling-interval-and-persist-them",
      "title": "Add a Settings UI area (dialog, drawer, or page within the existing single-screen app layout) where authenticated users can change app settings (theme preference and message polling interval) and persist them.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-user-profile-data-model-to-support-a-custom-profile-picture-uploaded-from-the-user-s-device-gallery-storage-and-expose-it-through-the-existing-profile-read-update-apis-so-it-can-be-displayed-anywhere-a-user-avatar-is-shown",
      "title": "Extend the user profile data model to support a custom profile picture uploaded from the user’s device (gallery/storage), and expose it through the existing profile read/update APIs so it can be displayed anywhere a user avatar is shown.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-friend-system-that-lets-an-authenticated-user-search-for-other-users-by-username-send-accept-friend-requests-or-equivalent-and-maintain-a-persistent-friends-list-tied-to-the-authenticated-user",
      "title": "Add a friend system that lets an authenticated user search for other users by username, send/accept friend requests (or equivalent), and maintain a persistent friends list tied to the authenticated user.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-allow-a-user-to-add-invite-a-befriended-user-into-the-user-s-chatroom-s-after-they-are-friends-and-enforce-room-membership-visibility-accordingly",
      "title": "Allow a user to add/invite a befriended user into the user’s chatroom(s) after they are friends, and enforce room membership/visibility accordingly.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-support-sending-images-in-chat-messages-allow-a-user-to-attach-an-image-in-the-message-composer-send-it-to-the-backend-store-it-with-the-message-and-render-it-inline-in-the-message-thread",
      "title": "Support sending images in chat messages: allow a user to attach an image in the message composer, send it to the backend, store it with the message, and render it inline in the message thread.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-app-footer-in-frontend-src-app-tsx-to-replace-the-current-year-built-with-using-caffeine-ai-text-link-with-the-exact-text-2026-ai-licensed-freechat-com-and-make-freechat-com-a-clickable-link-to-https-freechat-com-open-in-a-new-tab-with-rel-noopener-noreferrer",
      "title": "Update the app footer in frontend/src/App.tsx to replace the current “© {year} · Built with ❤️ using caffeine.ai” text/link with the exact text “@ 2026 ai licensed freechat.com”, and make “freechat.com” a clickable link to https://freechat.com (open in a new tab with rel=\"noopener noreferrer\").",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-all-user-facing-branding-text-in-the-app-ui-from-chat-to-tchat-where-it-represents-the-product-site-name-e-g-the-unauthenticated-welcome-headline-and-the-authenticated-header-title-so-the-app-is-branded-as-tchat",
      "title": "Replace all user-facing branding text in the app UI from “Chat” to “Tchat” where it represents the product/site name (e.g., the unauthenticated welcome headline and the authenticated header title), so the app is branded as Tchat.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-footer-domain-text-and-link-target-from-freechat-com-to-tchat-com-update-the-visible-link-label-to-tchat-com-and-the-href-to-https-tchat-com-while-preserving-target-blank-and-rel-noopener-noreferrer",
      "title": "Replace the footer domain text and link target from freechat.com to Tchat.com: update the visible link label to “tchat.com” and the href to https://tchat.com while preserving target=\"_blank\" and rel=\"noopener noreferrer\".",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-update-any-app-web-domain-mentions-in-static-page-metadata-to-reflect-tchat-com-branding-e-g-the-html-document-title-if-it-still-uses-generic-old-branding-ensuring-no-freechat-com-references-remain-in-the-frontend-static-entrypoint",
      "title": "Update any app “web domain” mentions in static page metadata to reflect Tchat.com branding (e.g., the HTML document title if it still uses generic/old branding), ensuring no freechat.com references remain in the frontend static entrypoint.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-app-footer-domain-link-in-frontend-src-app-tsx-to-use-the-org-domain-change-the-visible-link-label-from-tchat-com-to-tchat-org-and-change-the-href-from-https-tchat-com-to-https-tchat-org-while-preserving-target-blank-and-rel-noopener-noreferrer",
      "title": "Update the app footer domain link in frontend/src/App.tsx to use the .org domain: change the visible link label from \"tchat.com\" to \"tchat.org\" and change the href from \"https://tchat.com\" to \"https://tchat.org\" while preserving target=\"_blank\" and rel=\"noopener noreferrer\".",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-any-remaining-user-facing-com-domain-mentions-from-the-frontend-including-freechat-com-and-tchat-com-and-replace-them-with-their-org-equivalents-e-g-freechat-org-tchat-org-wherever-they-appear-in-visible-ui-text-links-or-static-page-metadata",
      "title": "Remove any remaining user-facing .com domain mentions from the frontend (including freechat.com and tchat.com) and replace them with their .org equivalents (e.g., freechat.org, tchat.org) wherever they appear in visible UI text, links, or static page metadata.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-frontend-resilience-for-profile-fetching-so-that-if-a-profile-lookup-fails-including-backend-traps-or-network-errors-the-ui-shows-a-stable-fallback-e-g-initial-based-avatar-and-truncated-principal-and-does-not-get-stuck-in-a-perpetual-loading-skeleton-state",
      "title": "Improve frontend resilience for profile fetching so that if a profile lookup fails (including backend traps or network errors), the UI shows a stable fallback (e.g., initial-based avatar and truncated principal) and does not get stuck in a perpetual loading/skeleton state.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-and-fix-any-profile-editor-profile-setup-flow-regressions-caused-by-the-profile-issue-fix-ensuring-the-authenticated-user-can-always-create-and-update-their-own-profile-including-bio-avatar-colors-and-optional-profile-picture-and-see-the-updated-profile-reflected-in-the-header-and-other-ui-locations",
      "title": "Verify and fix any Profile Editor / Profile Setup flow regressions caused by the profile issue fix, ensuring the authenticated user can always create and update their own profile (including bio, avatar colors, and optional profile picture) and see the updated profile reflected in the header and other UI locations.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-profile-editor-ui-to-let-an-authenticated-user-choose-a-flag-badge-from-an-allowed-list-clear-the-selection-and-save-it-as-part-of-their-profile-use-english-for-all-user-facing-text",
      "title": "Update the Profile Editor UI to let an authenticated user choose a flag badge from an allowed list, clear the selection, and save it as part of their profile. Use English for all user-facing text.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-render-the-selected-flag-badge-inline-next-to-the-user-s-display-name-anywhere-the-app-shows-a-username-based-on-userprofile-including-the-header-greeting-and-any-message-friend-invite-profile-name-renderers-that-use-fetched-profiles-flags-must-be-rendered-from-static-frontend-assets-not-routed-through-the-backend",
      "title": "Render the selected flag badge inline next to the user’s display name anywhere the app shows a username based on UserProfile (including the header greeting and any message/friend/invite profile name renderers that use fetched profiles). Flags must be rendered from static frontend assets (not routed through the backend).",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-enforce-a-strict-safety-policy-for-flag-badges-do-not-include-or-render-extremist-terrorist-violent-or-hate-symbol-flags-including-the-user-requested-isis-taliban-hamas-hezbollah-nazi-germany-azov-battalion-wagner-group-and-similar-only-provide-an-allowed-list-limited-to-broadly-recognized-national-organizational-flags-and-ensure-the-ui-cannot-be-used-to-select-disallowed-symbols",
      "title": "Enforce a strict safety policy for flag badges: do not include or render extremist/terrorist/violent or hate-symbol flags (including the user-requested ISIS, Taliban, Hamas, Hezbollah, Nazi Germany, Azov battalion, Wagner group, and similar). Only provide an allowed list limited to broadly recognized national/organizational flags and ensure the UI cannot be used to select disallowed symbols.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-allowed-flag-metadata-used-by-the-frontend-so-each-allowed-flag-option-provides-an-emoji-representation-instead-of-a-static-image-asset-path-while-preserving-the-existing-safety-allowlist-behavior-only-allow-broadly-recognized-national-organizational-flags",
      "title": "Update the allowed flag metadata used by the frontend so each allowed flag option provides an emoji representation (instead of a static image asset path), while preserving the existing safety/allowlist behavior (only allow broadly recognized national/organizational flags).",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-render-profile-flag-badges-as-emoji-style-badges-throughout-the-ui-including-the-header-greeting-name-message-threads-friends-ui-invite-ui-and-profile-preview-name-renderers-by-updating-the-shared-flag-badge-renderer-to-display-the-emoji-not-an-img",
      "title": "Render profile flag badges as emoji-style badges throughout the UI (including the header greeting/name, message threads, friends UI, invite UI, and profile preview/name renderers) by updating the shared flag badge renderer to display the emoji (not an `<img>`).",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-profile-editor-flag-selection-ui-to-show-emoji-style-badges-in-the-dropdown-options-and-in-the-selected-value-display-and-keep-the-none-option-to-clear-the-selection",
      "title": "Update the Profile Editor flag selection UI to show emoji-style badges in the dropdown options and in the selected value display, and keep the 'None' option to clear the selection.",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-allowed-badge-list-used-by-the-profile-flag-badge-feature-to-remove-the-current-country-state-flags-and-instead-provide-a-curated-safe-allowlist-limited-to-1-non-state-flags-2-historical-defunct-country-flags-that-are-not-associated-with-extremist-terror-hate-ideologies-and-3-union-international-organization-flags-including-european-union-african-union-and-asean-do-not-include-any-extremist-terrorist-violent-hate-symbol-flags-from-the-user-provided-list",
      "title": "Update the frontend allowed badge list used by the profile flag-badge feature to remove the current country/state flags and instead provide a curated, safe allowlist limited to: (1) non-state flags, (2) historical/defunct country flags that are not associated with extremist/terror/hate ideologies, and (3) union/international organization flags (including European Union, African Union, and ASEAN). Do not include any extremist/terrorist/violent/hate-symbol flags from the user-provided list.",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-emoji-based-flag-badge-metadata-with-image-based-metadata-by-updating-the-frontend-flag-allowlist-so-each-allowed-flag-option-provides-a-static-image-asset-path-served-from-the-frontend-instead-of-an-emoji-value",
      "title": "Replace the emoji-based flag badge metadata with image-based metadata by updating the frontend flag allowlist so each allowed flag option provides a static image asset path (served from the frontend) instead of an emoji value.",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-shared-flag-badge-renderer-to-display-the-historical-flag-as-a-static-image-not-emoji-everywhere-the-badge-appears-while-keeping-the-existing-behavior-of-returning-null-for-unknown-disallowed-flags",
      "title": "Update the shared flag badge renderer to display the historical flag as a static image (not emoji) everywhere the badge appears, while keeping the existing behavior of returning null for unknown/disallowed flags.",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-profile-editor-flag-selection-ui-to-preview-and-select-historical-flag-images-instead-of-emoji-including-the-selected-value-display-and-the-dropdown-option-list-while-preserving-the-none-option-to-clear-the-selection",
      "title": "Update the Profile Editor flag selection UI to preview and select historical flag images instead of emoji, including the selected value display and the dropdown option list, while preserving the 'None' option to clear the selection.",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-add-static-historical-flag-image-assets-for-each-allowed-flag-option-and-ensure-they-are-loaded-directly-by-the-frontend-not-routed-through-the-backend",
      "title": "Add static historical-flag image assets for each allowed flag option and ensure they are loaded directly by the frontend (not routed through the backend).",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-all-flag-badge-ui-from-the-profile-editor-and-profile-display-components-including-the-flag-selector-and-any-inline-flag-rendering-next-to-names",
      "title": "Remove all flag-badge UI from the profile editor and profile display components, including the flag selector and any inline flag rendering next to names.",
      "reqIds": [
        "REQ-44"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-frontend-flag-allowlist-utilities-and-flag-badge-renderer-usage-so-the-app-has-no-runtime-dependency-on-flag-assets-or-flag-metadata",
      "title": "Remove frontend flag allowlist utilities and flag badge renderer usage so the app has no runtime dependency on flag assets or flag metadata.",
      "reqIds": [
        "REQ-45"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-settings-theme-selector-to-include-additional-theme-options-including-a-black-theme-and-make-selecting-the-new-theme-apply-the-correct-css-variable-palette-across-the-app",
      "title": "Extend the Settings theme selector to include additional theme options, including a \"Black\" theme, and make selecting the new theme apply the correct CSS variable palette across the app.",
      "reqIds": [
        "REQ-46"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-app-footer-text-in-frontend-src-app-tsx-by-replacing-the-current-year-built-with-using-caffeine-ai-including-the-caffeine-ai-link-with-the-exact-text-2026-terrorchat-org-licensed-by-ai",
      "title": "Update the app footer text in frontend/src/App.tsx by replacing the current “© {year} · Built with ❤️ using caffeine.ai” (including the caffeine.ai link) with the exact text “@ 2026 terrorchat.org licensed by ai”.",
      "reqIds": [
        "REQ-47"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-no-room-selected-empty-state-in-the-chat-message-thread-so-it-uses-a-transparent-background-png-branded-as-terrorchat-white-tc-letters-no-background-instead-of-the-current-image",
      "title": "Update the 'No Room Selected' empty-state in the chat message thread so it uses a transparent-background PNG branded as 'TerrorChat' (white 'TC' letters, no background) instead of the current image.",
      "reqIds": [
        "REQ-48"
      ],
      "version": 1
    },
    {
      "id": "feature-rename-the-application-branding-to-terrorchat-across-the-frontend-ui-and-static-metadata-replacing-any-remaining-tchat-app-name-references-including-the-unauthenticated-welcome-screen-header-title-logo-alt-text-and-the-html-document-title-use-english-for-all-user-facing-text",
      "title": "Rename the application branding to \"TerrorChat\" across the frontend UI and static metadata, replacing any remaining \"Tchat\" app-name references (including the unauthenticated welcome screen, header title, logo alt text, and the HTML document title). Use English for all user-facing text.",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-more-explicit-proper-sign-in-login-experience-using-the-existing-internet-identity-authentication-flow-and-make-account-persistence-clear-to-users-i-e-that-their-internet-identity-session-account-is-remembered-on-the-device-and-can-be-used-again-after-reload-update-user-facing-auth-copy-to-use-sign-in-sign-out-wording-and-provide-clear-guidance-about-how-the-account-is-saved-and-how-to-access-it-again",
      "title": "Implement a more explicit \"proper\" sign-in/login experience using the existing Internet Identity authentication flow, and make account persistence clear to users (i.e., that their Internet Identity session/account is remembered on the device and can be used again after reload). Update user-facing auth copy to use \"Sign in\" / \"Sign out\" wording and provide clear guidance about how the account is saved and how to access it again.",
      "reqIds": [
        "REQ-50"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-profile-saving-reliability-so-that-changes-made-in-the-profile-editor-display-name-bio-avatar-colors-and-profile-picture-are-consistently-persisted-and-reflected-after-closing-reopening-the-editor-and-after-a-full-page-reload",
      "title": "Fix profile saving reliability so that changes made in the Profile Editor (display name, bio, avatar colors, and profile picture) are consistently persisted and reflected after closing/reopening the editor and after a full page reload.",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-authenticated-app-header-always-shows-a-user-identity-display-avatar-name-even-when-the-caller-profile-is-missing-still-loading-or-fails-to-fetch-use-a-stable-fallback-name-derived-from-the-caller-principal-truncated-and-a-fallback-avatar-when-no-profile-is-available",
      "title": "Ensure the authenticated app header always shows a user identity display (avatar + name), even when the caller profile is missing, still loading, or fails to fetch; use a stable fallback name derived from the caller principal (truncated) and a fallback avatar when no profile is available.",
      "reqIds": [
        "REQ-52"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-to-call-the-new-backend-alt-account-apis-list-linked-accounts-list-pending-requests-create-request-accept-request-unlink-using-the-existing-actor-pattern",
      "title": "Add React Query hooks to call the new backend alt-account APIs (list linked accounts, list pending requests, create request, accept request, unlink) using the existing actor pattern.",
      "reqIds": [
        "REQ-55"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-existing-settings-dialog-ui-frontend-src-components-settings-settingsdialog-tsx-to-include-an-alternate-accounts-section-that-1-shows-linked-accounts-when-they-exist-2-shows-pending-link-requests-for-the-signed-in-user-and-3-provides-controls-to-link-a-new-alt-account-by-entering-a-principal-string-and-sending-a-link-request",
      "title": "Extend the existing Settings dialog UI (frontend/src/components/settings/SettingsDialog.tsx) to include an \"Alternate accounts\" section that: (1) shows linked accounts when they exist, (2) shows pending link requests for the signed-in user, and (3) provides controls to link a new alt account by entering a Principal string and sending a link request.",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-account-switching-ux-from-settings-when-a-user-selects-switch-on-a-linked-alt-account-the-app-signs-out-clears-the-current-internet-identity-session-and-then-prompts-the-user-to-sign-in-again-guiding-them-to-choose-the-target-linked-account-in-internet-identity-after-sign-in-the-app-should-detect-whether-the-signed-in-principal-matches-the-intended-target-and-show-an-english-success-or-mismatch-message",
      "title": "Implement account switching UX from Settings: when a user selects \"Switch\" on a linked alt account, the app signs out (clears the current Internet Identity session) and then prompts the user to sign in again, guiding them to choose the target linked account in Internet Identity; after sign-in, the app should detect whether the signed-in principal matches the intended target and show an English success or mismatch message.",
      "reqIds": [
        "REQ-57"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-terrorchat-logo-image-used-next-to-the-terrorchat-title-with-the-user-uploaded-image-image-png-ensuring-the-resulting-asset-has-a-transparent-background-no-background-and-is-served-as-a-static-frontend-asset",
      "title": "Replace the TerrorChat logo image used next to the \"TerrorChat\" title with the user-uploaded image (image.png), ensuring the resulting asset has a transparent background (no background) and is served as a static frontend asset.",
      "reqIds": [
        "REQ-58"
      ],
      "version": 1
    },
    {
      "id": "feature-add-dedicated-theme-tokens-css-variables-for-the-chatroom-list-boxes-room-tiles-so-they-can-have-different-foreground-front-colors-for-default-hover-and-selected-states-independent-from-the-generic-card-accent-tokens",
      "title": "Add dedicated theme tokens (CSS variables) for the chatroom list boxes (room tiles) so they can have different foreground/front colors for default, hover, and selected states, independent from the generic card/accent tokens.",
      "reqIds": [
        "REQ-59"
      ],
      "version": 1
    },
    {
      "id": "feature-expose-the-new-chatroom-box-color-tokens-as-tailwind-color-utilities-or-equivalent-styling-approach-consistent-with-the-codebase-and-update-the-room-list-ui-to-use-them-for-normal-hover-selected-styling",
      "title": "Expose the new chatroom box color tokens as Tailwind color utilities (or equivalent styling approach consistent with the codebase) and update the room list UI to use them for normal/hover/selected styling.",
      "reqIds": [
        "REQ-60"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-for-listing-servers-and-creating-a-server-using-the-existing-authenticated-actor-pattern-including-proper-cache-invalidation-after-server-creation",
      "title": "Add React Query hooks for listing servers and creating a server using the existing authenticated actor pattern, including proper cache invalidation after server creation.",
      "reqIds": [
        "REQ-62"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-left-side-list-ui-currently-frontend-src-components-chat-roomlist-tsx-to-include-a-create-server-option-next-to-the-existing-create-room-option-and-enforce-the-100-server-limit-ux-disable-or-block-creation-with-an-english-message-when-the-limit-is-reached",
      "title": "Update the left-side list UI (currently `frontend/src/components/chat/RoomList.tsx`) to include a \"Create Server\" option next to the existing \"Create Room\" option, and enforce the 100-server limit UX (disable or block creation with an English message when the limit is reached).",
      "reqIds": [
        "REQ-63"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-frontend-voice-option-in-the-room-experience-that-allows-authenticated-users-to-start-and-participate-in-a-voice-chat-for-the-currently-selected-room-using-webrtc-in-the-browser-and-the-new-backend-signaling-apis-with-react-query-polling-no-websockets",
      "title": "Add a frontend \"Voice\" option in the room experience that allows authenticated users to start and participate in a voice chat for the currently selected room, using WebRTC in the browser and the new backend signaling APIs with React Query polling (no WebSockets).",
      "reqIds": [
        "REQ-65"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-user-profile-viewing-ui-so-a-user-can-view-another-user-s-profile-details-including-profile-picture-display-name-and-bio-from-existing-places-where-other-users-appear-e-g-message-sender-and-friends-list",
      "title": "Implement a user profile viewing UI so a user can view another user’s profile details, including profile picture, display name, and bio, from existing places where other users appear (e.g., message sender and friends list).",
      "reqIds": [
        "REQ-66"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-sidebar-ui-to-display-the-authenticated-user-s-created-servers-list-and-add-a-delete-option-for-each-server",
      "title": "Update the sidebar UI to display the authenticated user’s created servers list, and add a delete option for each server.",
      "reqIds": [
        "REQ-70"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-delete-chatroom-option-in-the-room-list-ui-and-wire-it-to-the-backend-delete-room-api-with-safe-ux-handling-if-the-deleted-room-is-currently-selected",
      "title": "Add a delete chatroom option in the room list UI and wire it to the backend delete-room API, with safe UX handling if the deleted room is currently selected.",
      "reqIds": [
        "REQ-71"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-for-server-deletion-and-room-deletion-using-the-existing-authenticated-actor-pattern-including-proper-cache-invalidation",
      "title": "Add React Query hooks for server deletion and room deletion using the existing authenticated actor pattern, including proper cache invalidation.",
      "reqIds": [
        "REQ-72"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-there-is-no-enforced-limit-on-chatroom-creation-infinite-chatrooms-in-both-backend-and-frontend-behavior",
      "title": "Ensure there is no enforced limit on chatroom creation (infinite chatrooms) in both backend and frontend behavior.",
      "reqIds": [
        "REQ-73"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-server-selection-navigation-experience-so-users-can-open-access-a-server-from-the-displayed-servers-list-not-just-view-it-as-a-static-list-selecting-a-server-must-switch-the-main-content-area-from-the-current-room-chat-to-a-server-view-for-the-selected-server",
      "title": "Add a server selection/navigation experience so users can open/access a server from the displayed Servers list (not just view it as a static list). Selecting a server must switch the main content area from the current room chat to a server view for the selected server.",
      "reqIds": [
        "REQ-74"
      ],
      "version": 1
    },
    {
      "id": "feature-add-frontend-ui-to-upload-choose-clear-a-server-profile-picture-icon-for-the-selected-server-owner-only-persist-it-via-the-new-backend-apis-and-render-it-next-to-the-server-name-in-the-sidebar-list-and-inside-the-server-view",
      "title": "Add frontend UI to upload/choose/clear a server profile picture/icon for the selected server (owner-only), persist it via the new backend APIs, and render it next to the server name in the sidebar list and inside the server view.",
      "reqIds": [
        "REQ-77"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-using-the-existing-authenticated-actor-pattern-for-renaming-a-server-renaming-a-room-listing-server-members-adding-a-server-member-setting-a-member-role-admin-moderator-member-kicking-a-member-banning-a-member-with-duration-permanent-option-unbanning-a-member-and-listing-bans-ensure-proper-cache-invalidation-for-server-lists-and-any-server-detail-views",
      "title": "Add React Query hooks (using the existing authenticated actor pattern) for: renaming a server, renaming a room, listing server members, adding a server member, setting a member role (Admin/Moderator/Member), kicking a member, banning a member with duration/permanent option, unbanning a member, and listing bans. Ensure proper cache invalidation for server lists and any server detail views.",
      "reqIds": [
        "REQ-81"
      ],
      "version": 1
    },
    {
      "id": "feature-add-ui-options-to-rename-servers-and-rooms-and-add-a-server-moderation-ui-to-manage-roles-and-kick-ban-members-server-rename-in-the-server-view-show-an-editable-server-name-control-for-the-server-owner-room-rename-in-the-room-list-add-a-rename-action-per-room-only-visible-if-the-signed-in-user-is-the-room-creator-server-moderation-in-the-server-view-add-a-members-section-that-lists-members-and-their-role-allows-the-owner-to-set-admin-moderator-roles-and-provides-kick-and-ban-actions-ban-ui-must-allow-selecting-a-duration-including-a-permanent-option-all-user-facing-text-must-be-english-and-include-clear-error-success-toasts",
      "title": "Add UI options to rename servers and rooms, and add a Server moderation UI to manage roles and kick/ban members.\n\n- Server rename: in the server view, show an editable server name control for the server owner.\n- Room rename: in the room list, add a rename action per room (only visible if the signed-in user is the room creator).\n- Server moderation: in the server view, add a “Members” section that lists members and their role, allows the owner to set Admin/Moderator roles, and provides Kick and Ban actions. Ban UI must allow selecting a duration (including a permanent option). All user-facing text must be English and include clear error/success toasts.",
      "reqIds": [
        "REQ-82"
      ],
      "version": 1
    },
    {
      "id": "feature-when-a-server-is-created-treat-that-server-as-having-a-default-server-wide-chat-a-single-big-chatroom-that-can-be-opened-when-selecting-the-server-and-allow-server-members-to-post-and-read-messages-in-that-server-wide-chat",
      "title": "When a server is created, treat that server as having a default server-wide chat (a single “big chatroom”) that can be opened when selecting the server, and allow server members to post and read messages in that server-wide chat.",
      "reqIds": [
        "REQ-83"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-chat-message-attachments-to-support-both-images-and-videos-for-the-server-wide-chat-and-keep-existing-image-support-working-videos-must-be-uploaded-from-the-user-device-stored-on-the-backend-and-rendered-inline-so-other-users-can-view-them",
      "title": "Extend chat message attachments to support both images and videos for the server-wide chat (and keep existing image support working). Videos must be uploaded from the user device, stored on the backend, and rendered inline so other users can view them.",
      "reqIds": [
        "REQ-84"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-right-side-member-list-panel-in-the-server-chat-view-that-displays-users-by-profile-picture-pfp-and-username-along-with-an-activity-status-indicator-sorted-with-active-users-above-inactive-users",
      "title": "Add a right-side member list panel in the server chat view that displays users by profile picture (pfp) and username, along with an activity status indicator, sorted with active users above inactive users.",
      "reqIds": [
        "REQ-85"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-server-selection-navigation-experience-so-that-selecting-a-server-opens-a-combined-server-chat-members-layout-center-chat-right-side-members-list-replacing-the-current-behavior-that-shows-only-the-server-details-view-by-default",
      "title": "Update the server selection/navigation experience so that selecting a server opens a combined server chat + members layout (center chat, right-side members list), replacing the current behavior that shows only the Server Details view by default.",
      "reqIds": [
        "REQ-87"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-using-the-existing-authenticated-actor-pattern-for-reading-updating-clearing-the-server-bio-and-any-new-server-customization-fields-introduced-e-g-banner-accent-color-including-correct-cache-invalidation-for-servers-and-any-server-detail-queries-used-by-the-ui",
      "title": "Add React Query hooks (using the existing authenticated actor pattern) for reading/updating/clearing the server bio and any new server customization fields introduced (e.g., banner, accent color), including correct cache invalidation for `['servers']` and any server-detail queries used by the UI.",
      "reqIds": [
        "REQ-92"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-server-details-ui-currently-frontend-src-components-servers-serverview-tsx-rendered-inside-serverchatview-to-display-the-server-bio-and-any-new-customization-fields-and-for-owners-only-provide-controls-to-edit-and-save-them-with-clear-english-labels-validation-and-success-error-toasts",
      "title": "Update the server details UI (currently `frontend/src/components/servers/ServerView.tsx` rendered inside `ServerChatView`) to display the server bio and any new customization fields, and (for owners only) provide controls to edit and save them with clear English labels, validation, and success/error toasts.",
      "reqIds": [
        "REQ-93"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-emoji-picker-to-the-message-composer-s-so-users-can-insert-standard-unicode-emojis-into-the-message-text-implement-it-for-both-the-room-chat-composer-frontend-src-components-chat-messagecomposer-tsx-and-the-server-chat-composer-embedded-in-frontend-src-components-servers-serverchatview-tsx",
      "title": "Add an emoji picker to the message composer(s) so users can insert standard Unicode emojis into the message text. Implement it for both the room chat composer (`frontend/src/components/chat/MessageComposer.tsx`) and the server chat composer embedded in `frontend/src/components/servers/ServerChatView.tsx`.",
      "reqIds": [
        "REQ-94"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-gif-sending-experience-in-chat-at-minimum-ensure-animated-gif-files-are-supported-end-to-end-as-image-attachments-upload-store-and-render-animated-in-message-if-a-gif-selection-ui-is-provided-it-must-not-depend-on-third-party-gif-apis-use-either-device-upload-only-or-a-small-curated-set-of-static-gif-assets-served-from-the-frontend",
      "title": "Add a GIF sending experience in chat. At minimum, ensure animated GIF files are supported end-to-end as image attachments (upload, store, and render animated in-message). If a GIF selection UI is provided, it must not depend on third-party GIF APIs; use either device upload only or a small curated set of static GIF assets served from the frontend.",
      "reqIds": [
        "REQ-95"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-for-the-new-room-message-delete-and-pin-unpin-operations-using-the-existing-authenticated-actor-pattern-and-ensure-correct-cache-invalidation-for-messages-roomid-so-the-ui-refreshes-after-each-mutation",
      "title": "Add React Query hooks for the new room-message delete and pin/unpin operations, using the existing authenticated actor pattern, and ensure correct cache invalidation for `['messages', roomId]` so the UI refreshes after each mutation.",
      "reqIds": [
        "REQ-98"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-for-the-new-server-chat-message-delete-and-pin-unpin-operations-using-the-existing-authenticated-actor-pattern-and-ensure-correct-cache-invalidation-for-serverannouncements-serverid-so-the-ui-refreshes-after-each-mutation",
      "title": "Add React Query hooks for the new server-chat message delete and pin/unpin operations, using the existing authenticated actor pattern, and ensure correct cache invalidation for `['serverAnnouncements', serverId]` so the UI refreshes after each mutation.",
      "reqIds": [
        "REQ-99"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-chat-ui-to-let-a-signed-in-user-delete-and-pin-unpin-only-their-own-messages-in-both-room-chat-and-server-chat-add-a-clear-pinned-visual-indicator-and-render-pinned-messages-in-a-dedicated-pinned-section-at-the-top-of-the-message-list-while-still-showing-messages-in-chronological-order-below-all-user-facing-labels-confirmations-and-toasts-must-be-english",
      "title": "Update the chat UI to let a signed-in user delete and pin/unpin only their own messages in both room chat and server chat. Add a clear pinned visual indicator, and render pinned messages in a dedicated pinned section at the top of the message list (while still showing messages in chronological order below). All user-facing labels, confirmations, and toasts must be English.",
      "reqIds": [
        "REQ-100"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-for-room-member-presence-1-polling-query-to-fetch-room-members-active-inactive-status-for-the-selected-room-and-2-mutation-or-helper-to-periodically-heartbeat-update-presence-while-the-user-is-viewing-a-room-chat-follow-the-existing-authenticated-actor-pattern-and-ensure-stable-caching-query-keys-per-room",
      "title": "Add React Query hooks for room member presence: (1) polling query to fetch room members + active/inactive status for the selected room, and (2) mutation or helper to periodically heartbeat/update presence while the user is viewing a room chat. Follow the existing authenticated actor pattern and ensure stable caching/query keys per room.",
      "reqIds": [
        "REQ-102"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-right-side-member-list-panel-to-the-room-chat-view-chatrooms-that-displays-room-members-with-avatar-display-name-and-an-activity-indicator-sorted-with-active-users-above-inactive-users-the-panel-must-appear-on-the-right-side-of-the-screen-when-viewing-a-room-chat-and-it-must-not-affect-the-existing-server-member-list-behavior",
      "title": "Add a right-side member list panel to the room chat view (chatrooms) that displays room members with avatar + display name and an activity indicator, sorted with active users above inactive users. The panel must appear on the right side of the screen when viewing a room chat, and it must not affect the existing server member list behavior.",
      "reqIds": [
        "REQ-103"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-room-chatroom-member-list-ui-to-show-room-roles-and-allow-the-room-owner-to-assign-a-role-admin-moderator-member-to-other-room-members-using-the-new-backend-apis",
      "title": "Update the room (chatroom) member list UI to show room roles and allow the room Owner to assign a role (Admin/Moderator/Member) to other room members using the new backend APIs.",
      "reqIds": [
        "REQ-106"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-mutation-hooks-for-editing-messages-using-the-existing-authenticated-actor-pattern-and-ensure-correct-cache-invalidation-so-the-ui-refreshes-after-edits-for-both-room-chat-messages-roomid-and-server-chat-serverannouncements-serverid",
      "title": "Add React Query mutation hooks for editing messages using the existing authenticated actor pattern, and ensure correct cache invalidation so the UI refreshes after edits for both room chat (`['messages', roomId]`) and server chat (`['serverAnnouncements', serverId]`).",
      "reqIds": [
        "REQ-109"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-message-uis-to-allow-editing-only-the-signed-in-user-s-own-messages-in-both-room-chat-frontend-src-components-chat-messagethread-tsx-and-server-chat-frontend-src-components-servers-serverannouncementthread-tsx-add-an-edit-action-provide-an-inline-editing-state-textarea-input-with-save-cancel-validate-that-edited-content-is-not-empty-and-show-english-success-error-toasts",
      "title": "Update the message UIs to allow editing only the signed-in user’s own messages in both room chat (`frontend/src/components/chat/MessageThread.tsx`) and server chat (`frontend/src/components/servers/ServerAnnouncementThread.tsx`): add an Edit action, provide an inline editing state (textarea/input) with Save/Cancel, validate that edited content is not empty, and show English success/error toasts.",
      "reqIds": [
        "REQ-110"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-frontend-ui-in-settings-to-let-the-signed-in-user-view-and-obtain-admin-access-and-clearly-communicate-the-current-admin-status-add-an-admin-access-section-to-the-existing-settings-dialog-show-the-current-status-e-g-you-are-an-admin-you-are-not-an-admin-provide-a-button-to-claim-admin-access-only-succeeds-if-no-admin-exists-yet-with-english-success-error-toasts-if-the-user-is-an-admin-show-a-subtle-admin-indicator-in-the-authenticated-header-area-english-label",
      "title": "Add a frontend UI in Settings to let the signed-in user view and obtain admin access, and clearly communicate the current admin status.\n\n- Add an “Admin access” section to the existing Settings dialog.\n- Show the current status (e.g., “You are an admin” / “You are not an admin”).\n- Provide a button to claim admin access (only succeeds if no admin exists yet), with English success/error toasts.\n- If the user is an admin, show a subtle “Admin” indicator in the authenticated header area (English label).",
      "reqIds": [
        "REQ-112"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-basic-search-in-chat-feature-for-both-room-chat-and-server-chat-views-provide-a-search-input-that-filters-the-currently-loaded-messages-in-the-active-thread-room-messages-and-server-announcements-by-text-content-the-filtering-must-be-client-side-no-new-backend-indexing-requirement-use-english-placeholder-labels-e-g-search-messages-and-show-an-english-empty-state-when-no-matches-are-found",
      "title": "Add a basic “Search in chat” feature for both room chat and server chat views.\n\n- Provide a search input that filters the currently loaded messages in the active thread (room messages and server announcements) by text content.\n- The filtering must be client-side (no new backend indexing requirement).\n- Use English placeholder/labels (e.g., “Search messages…”), and show an English empty-state when no matches are found.",
      "reqIds": [
        "REQ-113"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-dedicated-flags-category-to-the-existing-emoji-picker-frontend-src-components-chat-emojipicker-tsx-so-users-can-insert-flag-emojis-into-messages-including-flags-for-non-recognized-partially-recognized-territories-when-they-are-available-as-standard-unicode-emoji",
      "title": "Add a dedicated \"Flags\" category to the existing emoji picker (frontend/src/components/chat/EmojiPicker.tsx) so users can insert flag emojis into messages, including flags for non-recognized/partially-recognized territories when they are available as standard Unicode emoji.",
      "reqIds": [
        "REQ-114"
      ],
      "version": 1
    },
    {
      "id": "feature-enforce-a-safety-filter-for-the-new-flag-emoji-list-used-by-the-emoji-picker-do-not-include-any-extremist-terrorist-violent-hate-symbol-flags-or-equivalents-and-ensure-the-picker-cannot-be-used-to-insert-disallowed-symbols-via-the-flags-category",
      "title": "Enforce a safety filter for the new flag-emoji list used by the emoji picker: do not include any extremist/terrorist/violent/hate-symbol flags or equivalents, and ensure the picker cannot be used to insert disallowed symbols via the Flags category.",
      "reqIds": [
        "REQ-115"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-for-the-new-server-invite-backend-apis-create-invite-resolve-invite-join-via-invite-using-the-existing-authenticated-actor-pattern-and-ensure-correct-cache-invalidation-so-server-lists-members-update-after-a-successful-join",
      "title": "Add React Query hooks for the new server-invite backend APIs (create invite, resolve invite, join via invite) using the existing authenticated actor pattern and ensure correct cache invalidation so server lists/members update after a successful join.",
      "reqIds": [
        "REQ-117"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-server-invite-ui-in-the-server-details-area-so-users-can-generate-copy-an-invite-link-for-the-currently-selected-server-and-add-an-invite-accept-flow-that-joins-a-server-when-a-signed-in-user-opens-an-invite-link",
      "title": "Add a server-invite UI in the Server Details area so users can generate/copy an invite link for the currently selected server, and add an invite-accept flow that joins a server when a signed-in user opens an invite link.",
      "reqIds": [
        "REQ-118"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-to-call-the-new-backend-saved-server-links-apis-using-the-existing-authenticated-actor-pattern-query-list-mutations-save-remove-and-ensure-proper-cache-invalidation",
      "title": "Add React Query hooks to call the new backend saved-server-links APIs using the existing authenticated actor pattern (query: list; mutations: save/remove) and ensure proper cache invalidation.",
      "reqIds": [
        "REQ-120"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-existing-server-invite-ui-to-let-users-save-the-generated-invite-link-code-into-their-saved-server-links-list",
      "title": "Extend the existing server invite UI to let users save the generated invite link/code into their saved server links list.",
      "reqIds": [
        "REQ-121"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-settings-ui-section-for-saved-server-links-that-allows-the-user-to-view-copy-open-and-remove-their-saved-server-links",
      "title": "Add a Settings UI section for \"Saved server links\" that allows the user to view, copy, open, and remove their saved server links.",
      "reqIds": [
        "REQ-122"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-account-data-section-in-settings-that-helps-users-save-recover-their-account-related-information-by-exporting-a-local-json-backup",
      "title": "Add an \"Account data\" section in Settings that helps users save/recover their account-related information by exporting a local JSON backup.",
      "reqIds": [
        "REQ-123"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Create a chat app",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Implement a Motoko backend for a chat app with persistent storage for chat rooms and messages, supporting: create room, list rooms, post message to a room, and fetch messages for a room with pagination or incremental fetching (e.g., by \"after\" timestamp or message id).",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Add user profile customization features (e.g., display name, avatar, bio) to the chat app.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Add an in-app settings area (app preferences) for the chat app.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Implement state migration for existing deployed data so previously saved profiles that only contain the legacy name field are upgraded to the new UserProfile structure without data loss.",
      "reqIds": [
        "REQ-8"
      ],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Allow users to upload a custom profile picture from device gallery/storage (and use it as their avatar).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Add a friend system: search/add friends by username (and/or friend code), and after befriending allow adding/inviting friends into the user's chatroom(s).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Support sending images in chat messages (upload/attach image and render it in the message thread).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Replace all .com branding/domain references with .org across the chat app (e.g., update Tchat.com/freechat.com links and any other web domain mentions to .org equivalents).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Fix the backend profile-read authorization so authenticated users can fetch other users’ profiles without trapping, enabling avatars/names to render correctly in message threads, friend lists, and room invite UI.",
      "reqIds": [
        "REQ-22"
      ],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Remove the flag-badge field and all flag-badge validation/sanitization logic from the backend user profile model and APIs.",
      "reqIds": [
        "REQ-42"
      ],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Add a conditional state migration to safely upgrade existing deployed state that may contain `UserProfile.profileFlag`, ensuring upgrade does not trap and existing profile data (name, bio, avatar colors, profile picture) is preserved.",
      "reqIds": [
        "REQ-43"
      ],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Add additional theme options in Settings, including a black theme.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Update the app footer text to replace “© 2026 · Built with ❤️ using caffeine.ai” with the exact text “@ 2026 terrorchat.org licensed by ai”.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Publish/deploy the chat app as a public domain website and provide the public link to the user.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Replace the \"No room selected\" empty-state image with a transparent-background PNG that matches TerrorChat branding: text \"TerrorChat\" and white \"TC\" letters (no background).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Add proper login/sign-in and persistent account saving so users can reliably keep and access their account (beyond the current auth flow if needed).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Add a new “Servers” feature alongside the existing “Create Room” option, allowing users to create servers (replacing the removed alt-account feature).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Replace the image/logo next to the “TerrorChat” title with the user-provided transparent (no background) image.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Add theme-aware color styling options for chatroom boxes (different foreground/front colors per theme, including selected state styling).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-27",
      "summary": "Implement a maximum limit of 100 servers per user/app for the new “Servers” feature (enforce in UI and backend when creating servers).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Extend the backend to support per-user \"Servers\" with APIs to create and list servers, and enforce a maximum of 100 servers per user when creating a new server.",
      "reqIds": [
        "REQ-61"
      ],
      "status": "pending"
    },
    {
      "id": "AR-29",
      "summary": "Add a voice chat option to TerrorChat (real-time voice communication between users in rooms/servers).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Add a feature to display a user's profile to other users (including profile picture), e.g., by viewing a profile from messages/friends with a profile view UI.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Add backend support for room-scoped voice chat signaling so authenticated room members can establish WebRTC voice connections without WebSockets (polling-based signaling). The signaling layer must support creating a voice session for a room, joining/leaving, and exchanging SDP offers/answers and ICE candidates, with access control enforcing that only members of the room can read/write signaling for that room/session.",
      "reqIds": [
        "REQ-64"
      ],
      "status": "pending"
    },
    {
      "id": "AR-34",
      "summary": "Ensure the backend profile-read path reliably supports displaying profiles to other authenticated users, including profile picture retrieval, without traps for valid authenticated callers.",
      "reqIds": [
        "REQ-67"
      ],
      "status": "pending"
    },
    {
      "id": "AR-35",
      "summary": "Add UI to display/list created servers and provide an option to delete servers.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-36",
      "summary": "Add ability to delete chatrooms; chatrooms should have no limit (infinite).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-37",
      "summary": "Add backend APIs to delete a server owned by the authenticated user, and ensure server listing reflects deletions.",
      "reqIds": [
        "REQ-68"
      ],
      "status": "pending"
    },
    {
      "id": "AR-38",
      "summary": "Add backend APIs to delete a chatroom and all room-scoped data (membership + messages), and ensure room listing reflects deletions.",
      "reqIds": [
        "REQ-69"
      ],
      "status": "pending"
    },
    {
      "id": "AR-39",
      "summary": "Add ability to access/open a server from the displayed servers list (server navigation/selection UX).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-40",
      "summary": "Add server profile picture/icon support and display it next to the server name in server listings and within the server view.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-42",
      "summary": "Extend the backend Server data model to support an optional server profile picture/icon, stored using the existing blob-storage types used for user profile pictures, and ensure this field is returned anywhere Server objects are returned.",
      "reqIds": [
        "REQ-75"
      ],
      "status": "pending"
    },
    {
      "id": "AR-43",
      "summary": "Add backend APIs that allow an authenticated server owner to set/update/clear the server profile picture/icon, enforcing that only the owning principal can modify that server.",
      "reqIds": [
        "REQ-76"
      ],
      "status": "pending"
    },
    {
      "id": "AR-44",
      "summary": "Add an account creation/sign-up flow for users who don’t have an account yet, and include an initial account/profile customization step during/after creation.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-45",
      "summary": "Add options to rename/edit server names and room names (server/room settings).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-46",
      "summary": "Add server roles/permissions management: allow server owners/admins to assign Admin/Moderator roles to members.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-47",
      "summary": "Add server moderation actions: allow admins/mods to kick members and ban members with configurable duration (temporary/permanent bans).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-48",
      "summary": "Add backend support for renaming servers and rooms, with access control (only the server owner can rename a server; only the room creator can rename a room). Expose these operations via new canister APIs and ensure updated names are returned anywhere servers/rooms are listed or fetched.",
      "reqIds": [
        "REQ-78"
      ],
      "status": "pending"
    },
    {
      "id": "AR-49",
      "summary": "Add backend support for server membership and roles so that a server can have members with one of: Owner, Admin, Moderator, Member. Provide APIs to list server members (with their role), add a member to a server, and update a member’s role. Enforce that only the server owner can promote/demote Admins/Moderators, and that only server roles with sufficient permissions can perform moderation actions.",
      "reqIds": [
        "REQ-79"
      ],
      "status": "pending"
    },
    {
      "id": "AR-50",
      "summary": "Add backend moderation APIs for kicking and banning server members. Bans must support configurable duration (temporary until a specified timestamp) and permanent bans. Enforce permission checks (Owner/Admin/Moderator depending on policy) and prevent moderation actions against the server owner. Ensure banned users cannot be re-added to the server while the ban is active.",
      "reqIds": [
        "REQ-80"
      ],
      "status": "pending"
    },
    {
      "id": "AR-51",
      "summary": "When a Server is created, provide a server-wide chatroom experience (a \"big chatroom\") where members can chat and share media, including support for sending images and videos visible to others.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-52",
      "summary": "Add a right-side user list panel in the chat/server view that displays users with profile picture + username and shows a user activity status; sort users with active users above inactive users.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-56",
      "summary": "Implement backend presence tracking and APIs needed by the right-side member list so the frontend can determine which server members are “active” vs “inactive” using polling (no WebSockets).",
      "reqIds": [
        "REQ-86"
      ],
      "status": "pending"
    },
    {
      "id": "AR-57",
      "summary": "Add ability to delete and pin your own comments/messages inside your own server.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-58",
      "summary": "Add a server bio field (server description) editable by the server owner/admin and visible in the server view.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-59",
      "summary": "Add more server customization options (additional editable server settings beyond name and icon).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-60",
      "summary": "Support GIFs and emojis in chat (emoji picker + GIF selection/search) for server-wide chat (and/or rooms).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-61",
      "summary": "Extend the backend Server data model to include a server bio/description field and any required supporting fields for additional customization (at minimum: `bio : Text`; optional customization fields must be explicitly represented in the Server record), and return these fields anywhere Server objects are returned (e.g., server list and server detail views).",
      "reqIds": [
        "REQ-88"
      ],
      "status": "pending"
    },
    {
      "id": "AR-62",
      "summary": "Add backend canister APIs that allow an authorized server owner to update and clear the server bio, with access control enforced (non-owners must not be able to modify the bio). User-facing error strings must be English.",
      "reqIds": [
        "REQ-89"
      ],
      "status": "pending"
    },
    {
      "id": "AR-63",
      "summary": "Implement additional server customization options beyond name and icon, limited to settings that can be stored and returned by the backend (e.g., an optional server banner image stored as a blob, and/or an optional server accent color string). Add owner-only backend APIs to set/clear each new customization field and ensure updated values are returned wherever Server data is fetched.",
      "reqIds": [
        "REQ-90"
      ],
      "status": "pending"
    },
    {
      "id": "AR-64",
      "summary": "If existing stable server state exists on upgrade, add/adjust conditional migration logic so previously stored servers are upgraded safely to include defaults for the new server bio/customization fields, without data loss for existing server properties (id, owner, name, createdAt, icon).",
      "reqIds": [
        "REQ-91"
      ],
      "status": "pending"
    },
    {
      "id": "AR-65",
      "summary": "Extend the backend room-message model and APIs so an authenticated user can (a) delete their own room messages and (b) pin/unpin their own room messages. Enforce that users can only delete/pin messages where `sender == caller`, and return clear English errors when unauthorized or when the message/room is not found.",
      "reqIds": [
        "REQ-96"
      ],
      "status": "pending"
    },
    {
      "id": "AR-66",
      "summary": "Extend the backend server chat (server announcements) model and APIs so an authenticated user can (a) delete their own server chat messages and (b) pin/unpin their own server chat messages. Enforce that users can only delete/pin messages where `author == caller`, and return clear English errors when unauthorized or when the message/server is not found.",
      "reqIds": [
        "REQ-97"
      ],
      "status": "pending"
    },
    {
      "id": "AR-67",
      "summary": "In chatrooms, display a right-side user list panel that sorts active users above inactive users (activity status indicator + ordering).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-68",
      "summary": "Allow server role names/labels (e.g., Admin/Moderator) to be customizable (owner-defined role display names) while preserving role permissions behavior.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-69",
      "summary": "Implement backend room presence tracking and APIs so the frontend can determine which room members are currently active vs inactive using polling (no WebSockets). Add a lightweight heartbeat/update call for the current room, and a query that returns room members with activity status for a given room, enforcing that only room members can read/update presence for that room.",
      "reqIds": [
        "REQ-101"
      ],
      "status": "pending"
    },
    {
      "id": "AR-70",
      "summary": "Add owner-managed roles for both servers and chatrooms: allow the owner to assign Admin/Moderator (or equivalent) roles to other users, support custom role display names chosen by the owner, and enforce role-based permissions consistently in backend APIs and UI.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-71",
      "summary": "Add chatroom (room) member roles to the backend so a room creator (Owner) can assign elevated roles (Admin and Moderator) to other room members, and the backend can return each room member’s role.",
      "reqIds": [
        "REQ-104"
      ],
      "status": "pending"
    },
    {
      "id": "AR-72",
      "summary": "Enforce room-role permissions in existing backend room management operations, using the new room roles (Owner/Admin/Moderator/Member) to determine who can perform privileged actions.",
      "reqIds": [
        "REQ-105"
      ],
      "status": "pending"
    },
    {
      "id": "AR-73",
      "summary": "Add a feature that lets users edit their own messages (in chatrooms and/or server chat).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-74",
      "summary": "Add backend support to edit a signed-in user’s own room chat messages: expose a canister API that updates an existing room message’s `content` (text) when and only when the authenticated caller is the original `sender`, and return clear English errors when the room/message is not found or when the caller is not authorized.",
      "reqIds": [
        "REQ-107"
      ],
      "status": "pending"
    },
    {
      "id": "AR-75",
      "summary": "Add backend support to edit a signed-in user’s own server chat messages (server announcements): expose a canister API that updates an existing server announcement’s `content` (text) when and only when the authenticated caller is the original `author`, and return clear English errors when the server/message is not found or when the caller is not authorized.",
      "reqIds": [
        "REQ-108"
      ],
      "status": "pending"
    },
    {
      "id": "AR-76",
      "summary": "Grant the requesting user full/owner-level permissions and access across the app (admin/superuser privileges) so they can manage all chat app resources and settings.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-77",
      "summary": "Add additional basic features to the app (details unspecified; requires clarification on which features are desired).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-78",
      "summary": "Implement an application-level superuser/admin capability in the backend so the requesting user can obtain full permissions and access across the chat app.\n\n- Add a backend mechanism to let the first authenticated user to claim it become the app superuser (admin), and expose a query to check whether the caller is currently an admin.\n- Update backend authorization checks so admins can perform privileged operations across the app (i.e., admins are not blocked by normal ownership/member-only restrictions where applicable), while non-admin behavior remains unchanged.\n- All backend error messages surfaced to the UI must be in English (no traps with unclear text).",
      "reqIds": [
        "REQ-111"
      ],
      "status": "pending"
    },
    {
      "id": "AR-79",
      "summary": "Add flag emojis support, including flags of non-recognized states (expand available flag/emoji set beyond current allowlist).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-80",
      "summary": "Add a server invite feature so server members/owners can invite users into servers (e.g., via an invite link shown in Server Details).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-81",
      "summary": "Add backend support for server invite links so an authenticated server member with permission can create an invite code for a specific server, and any authenticated user with that invite code can join the server.",
      "reqIds": [
        "REQ-116"
      ],
      "status": "pending"
    },
    {
      "id": "AR-82",
      "summary": "Add save features: persist server invite links (saved server links/bookmarks) and persist account data so users can store/recover their account-related info reliably.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-83",
      "summary": "Add backend support to persist per-user \"saved server links\" (bookmarks) so an authenticated user can save, list, and remove saved server invite links/codes.",
      "reqIds": [
        "REQ-119"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "TerrorChat",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}